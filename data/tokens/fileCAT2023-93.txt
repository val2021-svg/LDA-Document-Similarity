2EL6050 - Modelica and bond graph: multi-domain   modeling, analysis and simulation          Instructors: Pierre Haessig  Department: CAMPUS DE RENNES  Language of instruction: ANGLAIS  Campus: CAMPUS DE RENNES  Workload (HEE): 60  On-site hours (HPE): 35,00  Elective Category : Engineering Sciences  Advanced level : No      Description   This  course  offers  to  expand  your  know-how,  as  well  as  your  theoretical  understanding,  of  the  modeling,  analysis  and  simulation  of  complex  multiphysical  systems  (e.g.:  simulation  of  drones,  building  thermal  performance, bioreactors…).   Context: technical systems are usually made by assembling components (ex.  in  a  car:  engine,  starter,  brakes…)  which  behavioral  models  come  from  different  technical  fields  (electrical,  mechanical,  thermal…).  As  a  result,  these components are often mastered by different people. The engineering  of complex systems therefore raises difficulties in exchanging and building  up models. This elective aims to learn two commonly used modeling tools  to meet these needs: Modelica and bond graphs.   The  bond  graph  is  a  graphical  description  of  energy  links  between  the  components of a system. This representation is based on analogies between  physical domains (e.g. mechanical inertia ~ electrical inductance). With bond  graph modeling, it becomes possible to perform structural analyses of the  modeled system, in particular through the core notion of causality. These  analyses  reveal  the  physical  functioning  and  the  energy  exchanges  of  the  system.   Modelica  is  a  non-proprietary  language*  used  to  address  the  following  needs:   •  Model systems spanning several physical domains  •  Easily build structured models using reusable components  •  Collaborate effectively and build up models within a team   *unlike Simulink/Simscape for example   297      Modelica allows you to easily (e.g. graphically) describe and then simulate  the  dynamics  of  complex  systems  (a  few  thousand  variables).  It  is  thus  becoming  industry  (building,  transportation,  electrical networks, etc.).   increasingly  popular   in   Thanks  to  the  open  source  nature  of  the  software  being  used  (OpenModelica), you will be able to freely reuse the know-how of this course  in  different  settings.  Beyond  Modelica,  the  acquired  skills  on  model  structure and collaboration will be applicable to many other environments.      Quarter number  SG6     Prerequisites (in terms of CS courses)    none      Syllabus    Course schedule:   •  Principles of the bond graph formalism, analogies between domains    Bond graph (5 h + 2 h personal work)   a. procedure for assigning causality   •  Analysis of structural properties  •  Extraction of the state-space equations   Modelica (14 h + 6 h personal work)   •  Introduction to Modelica: brief history, use in industry, principles   •  Getting started with Modelica   o  First practical examples: ODE, electrical circuit, mechanics.  o  Analogies between variables: flow and potential  o  Hybrid systems, discontinuity, events (example of a diode   rectifier)   •  Structuring of models   o  Inheritance and composition  o  Packages  o  Creation of a customized physical component   Versioning (2 h + 1 h personal work, as required)   298      Depending on students’ needs, there will be exercises to help people get  started with Git (versioning software) and GitLab (collaborative  development platform).   Modeling project (9 h + 18 h personal work)   (“M³ project”: Multiphysics Modeling with Modelica) in groups of 3-4.   •  Examples of project subjects: tidal power plant, drone, fuse,   electromagnetic switch. New in 2020-2021: modeling de dynamics  of the COVID-19 disease!   Final evaluation (2 h, see §Evaluation methods)        Class components (lecture, labs, etc.)   For bond graph, teaching is done through interleaved lectures and  exercises.   For Modelica, teaching is done through practical computer-based exercises  with concise lectures to introduce key concepts.   In order to enable a practical mastery of these two tools, the focus is on  practice through small exercises in the classroom, small exercises in selfstudy between classes and finally with the final project.        Grading    The evaluation of the elective is based on two activities:   •  Final exam on theoretical aspects, without documents, on bond   graph and Modelica fundamentals (50% of the final grade)   •  Modeling project (50% of the final grade)    o  A sheet detailing the project’s objectives is given at the start  of the project. In relation to these objectives, the evaluation  criteria are listed in detail.   o  The project grade can be individualized within a group   Moreover, this elective takes place in the form of applied courses where  most of the learning happens in the classroom. Participation in class is  therefore essential to acquire the knowledge and skills of this elective. The  participation and the respect of the deadlines thus count for a part of the  final grade.   299           Course support, bibliography   Material of the Modelica course: http://éole.net/courses/modelica/   including an extended list of references:  http://éole.net/courses/modelica/90-references.html   Material of the Bond graph course: slide deck of the teacher “Bond Graphs  - A graphical language for the analysis of multiphysical systems”.  https://cel.archives-ouvertes.fr/hal-03602684   Michael M. Tiller “Modelica by Example”, online book, first published in  2014 an continuously updated since. URL: mbe.modelica.university.   Geneviève Dauphin-Tanguy et al. “Les bond graphs”, livre Hermès, 2000.        Resources    Teacher : Pierre Haessig   Computer sessions using the free software OpenModelica    Please note that installing the software under macOS is difficult. It may be  necessary to work with a Linux virtual machine. As an alternative, Parallels  Desktop (paid) was successfully tested in 2021-2022.         Learning outcomes covered on the course    For bond graph, the course is about learning the concepts of this  representation to be able, on simple examples, to:   •  model the system by a bond graph    o  including the application of the causality assignment   procedure   •  analyze the structural properties of the system  •  extract the state-space equations   For Modelica, the course objectives are:   •  use the Modelica language and the OpenModelica development   environment to model and simulate dynamic systems   •  know how to reuse standard Modelica models  •  structure a complex model into reusable components   300      •  work in a team on a common complex model, with a versioning   system (git)        Description of the skills acquired at the end of the course    The skills described above make it possible to validate the following  CentraleSupélec engineering skills:   •  C1: Analyze, design, and build complex systems with scientific,  technological, human, and economic components. In particular:   o  C1.2: Modeling: using and developing the appropriate   models, choosing the correct modeling scale and the  relevant simplifying assumptions   o  C1.4: Design: specify, implement and validate all or part of a  complex system (in this course, the “complex system” to be  designed is in fact the Modelica model of a complex system)   •  C6: Be operational, responsible, and innovative in the digital world.   In particular:   o  C6.1: Solve a problem numerically (in particular the   simulation of dynamical systems)   o  C6.2: Design software (the Modelica model being seen as   software)   301   